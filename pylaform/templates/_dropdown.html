{% macro drop_down(id, payload, primary, secondary=None, primarybyname=False, secondarybyname=False, extra=True, secondaryid=None) %}
    <!-- Test if primary -->
    {% if secondary == None %}
        {% set name = namespace(primary=primary + "name") %}
        <label for="{{ id }}_{{ primary }}_dropdown">Select {{ primary.capitalize() }}:</label>
        <br>
        <select class="dropdown" name="{{ id }}_{{ primary }}_dropdown" id="{{ id }}_{{ primary }}_dropdown">
        {% for i in payload %}
            <option {{ 'selected="selected"' if i[primary] == id }} value="{{ i[primary] }}">{{ i[primary] if primarybyname else i[name.primary] }}</option>
        {% endfor %}
        {% if extra == True %}
            <option {{ 'selected="selected"' if "new" in id|string }} value="EDIT">Edit</option>
            <option value="ADD">New</option>
        {% endif %}
        </select>
    {% else %}
        {% set name = namespace(primary=primary + "name", secondary=secondary + "name") %}
        <label for="{{ id }}_{{ secondary }}_dropdown">Select {{ secondary.capitalize() }}:</label>
        <br>
        <select class="dropdown" name="{{ id }}_{{ secondary }}_dropdown" id="{{ id }}_{{ secondary }}_dropdown">
        {% for i in payload %}
            <option {{ 'selected="selected"' if i[secondary] == secondaryid }} value="{{ i[secondary] }}">{{ i[secondary] if secondarybyname else i[name.secondary] }}</option>

        {% endfor %}
        {% if extra == True %}
            <option {{ 'selected="selected"' if "new" in id|string }} value="EDIT">Edit</option>
            <option value="ADD">New</option>
        {% endif %}
        </select>
    {% endif %}
{%- endmacro %}